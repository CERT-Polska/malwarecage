import React from 'react';
import {Link} from 'react-router-dom';

import RecentObjects, { ObjectItem, ObjectField, ObjectTagRenderer, ObjectQueryLink } from './RecentObjects';

import { DateString, Hash } from "@malwarefront/ui";


class ConfigItem extends ObjectItem {}
ConfigItem.fields = [
    ObjectField({label: "Family", render: props => <ObjectQueryLink queryKey="family" value={props.family} {...props}/>}),
    ObjectField({label: "Config ID", render: props => <Link to={`/config/${props.id}`}><Hash hash={props.id}/></Link>}),
    ObjectField({label: "Type", render: props => <ObjectQueryLink queryKey="type" value={props.config_type} {...props}/>}),
    ObjectField({label: "Tags", style:{}, render: ObjectTagRenderer }),
    ObjectField({label: "Creation Time", style:{}, render: props => <DateString date={props.upload_time}/> })
];

function RecentConfigs(props)
{
    return <RecentObjects type="config" itemType={ConfigItem} dhashOnly {...props}/>
}

export default RecentConfigs;
