import React from 'react';
import {Link} from 'react-router-dom';

import RecentObjects, { ObjectItem, ObjectField, ObjectTagRenderer } from './RecentObjects';
import { Identicon, DateString, Hash } from "@malwarefront/ui";

class FileItem extends ObjectItem {}
FileItem.fields = [
    ObjectField({label: "Name", render: props => 
    (
        <span>
            <Identicon hash={props.md5} size="45" style={{
                float: "left",
                marginRight: "8pt"
            }}/>
            Name: {props.file_name}<br/>
            Size: {props.file_size}
        </span>
    )}),
    ObjectField({label: "Hash", style: {textAlign: 'right'}, render: props =>
    (
        <span>
            <Link to={`/sample/${props.md5}`}><Hash hash={props.md5}/></Link><br/>
            <Link to={`/sample/${props.sha256}`}><Hash hash={props.sha256}/></Link>
        </span> 
    )}),
    ObjectField({label:"File type", render: props => props.file_type}),
    ObjectField({label:"Tags", style: {}, render: ObjectTagRenderer }),
    ObjectField({label:"Creation Time", style: {}, render: props => <DateString date={props.upload_time}/>})
];

function RecentSamples(props)
{
    return <RecentObjects type="file" itemType={FileItem} {...props}/>
}

export default RecentSamples;
