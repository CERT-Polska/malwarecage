import React from 'react';
import {Link} from 'react-router-dom';

import { RecentView, ObjectRow, ObjectField, TagField } from "./RecentView";
import { Identicon, DateString, Hash } from "@malwarefront/ui";

const FileRow = ObjectRow([
    ObjectField({label: "Name", render: props => 
    (
        <span>
            <div style={{overflow: "hidden"}}>
                <Identicon hash={props.md5} size="45" style={{
                    float: "left",
                    marginRight: "8pt"
                }}/>
                <div><b>Name:</b> {props.file_name}</div>
                <div><b>Size:</b> {props.file_size}</div>
            </div>
        </span>
    )}),
    ObjectField({label: "Hash", style: {textAlign: 'right'}, render: props =>
    (
        <span>
            <Link to={`/sample/${props.md5}`}><Hash hash={props.md5}/></Link><br/>
            <Link to={`/sample/${props.sha256}`}><Hash hash={props.sha256}/></Link>
        </span> 
    )}),
    ObjectField({label:"File type", render: props => props.file_type}),
    TagField({label:"Tags", style: {}}),
    ObjectField({label:"Creation Time", style: {}, render: props => <DateString date={props.upload_time}/>})
]);

export default (props) => (
    <RecentView type="file" objectRow={FileRow} {...props}/>
)
